<!doctype html>
<html lang="pt">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Login</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="container center">
  <h2>Entrar</h2>
  <input id="email" type="email" placeholder="Email" />
  <input id="pass" type="password" placeholder="Senha" />
  <button id="loginBtn" class="btn green">Entrar</button>
  <button id="resetBtn" class="btn blue">Recuperar Senha</button>
  <p id="msg"></p>
  <a href="signup.html">Criar Conta</a>
</div>

<script type="module">
import { authActions } from './app.js';

const loginBtn=document.getElementById('loginBtn');
const resetBtn=document.getElementById('resetBtn');
const msg=document.getElementById('msg');

loginBtn.onclick=async ()=>{
  const email=document.getElementById('email').value.trim();
  const pass=document.getElementById('pass').value;
  try{ await authActions.login(email,pass); location.href='chat.html'; }
  catch(e){ msg.innerText=e.message; }
};

resetBtn.onclick=async ()=>{
  const email=document.getElementById('email').value.trim();
  if(!email) return alert('Coloque seu email.');
  try{ await authActions.resetPassword(email); } catch(e){ alert(e.message); }
};
</script>
</body>
</html>
